<section>
<div data-ng-if="!analysisId" data-ng-controller="NewAnalysisController as NAC" class="analysis">
    <div style="font-size:1.25rem">
        <span class="action-toolbar" data-ng-show="NAC.analysisType !== null">
          <span class="action-item">
            <i class="icon-beaker"></i><a href="" data-ng-click="NAC.analysisType = null"><translate>Analysis</translate></a>
          </span>                  
        </span>
        <span data-ng-show="NAC.analysisType !== null">&gt;</span>
        <span data-ng-show="NAC.analysisType !== null">
          <translate>Select {{NAC.analysisType === 'enrichment'?'set':'sets'}} for 
          <strong>{{NAC.analysisName(NAC.analysisType)}}</strong></translate>
        </span>
    </div>

    <div data-ng-show="NAC.analysisType === null">
        <div>
            <div class="analysis-tiles">
                <div
                    class="analysis-tile-container"
                    ng-repeat="(analysisType, analysis) in NAC.analysesMeta"
                >
                    <div class="analysis-tile">
                        <h2 class="analysis-title">
                           {{analysis.strings.name}}
                        </h2>
                        <img
                           class="analysis-illustration"
                           ng-src="/styles/images/analysis-{{analysisType}}.svg"
                        />
                        <div class="analysis-tile-detail">{{analysis.strings.description}}</div>
                    </div>

                    <div class="tile-extra-container" data-ng-click="analysis.launchDemo()">
                        <div class="tile-extra">
                           <h3 class="demo-title">
                              <translate>Demo</translate>
                           </h3>
                           <div class="demo-description">
                              {{analysis.strings.demoDescription}}
                           </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="analysis-suggestions">
                <a class="cta" href="mailto:dcc-support@icgc.org?Subject=Data%20Portal%20Feedback">
                    <h3 class="cta-title">More?</h3>
                    <div class="cta-detail">
                        <translate>Do you have a specific type of analysis you want to see?</translate>
                        <br/>
                        <translate>Leave feedback and let us know.</translate>
                    </div>
                </a>
            </div>
        </div>
    </div>
    <br> 
    <div data-ng-if="NAC.analysisType">
        <set-selection
            ng-repeat="(analysisType, analysis) in NAC.analysesMeta"
            data-ng-if="analysisType === NAC.analysisType"
            sets="NAC.allSets"
            description="analysis.strings.description"
            demo-cta-text="analysis.strings.demoDescription"
            selection-instructions="analysis.strings.datasetSelectionInstructions"
            is-launching-analysis="NAC.isLaunchingAnalysis()"
            set-compatibility-criteria="analysis.setCompatibilityCriteria"
            analysis-satisfaction-criteria="analysis.analysisSatisfactionCriteria"
            on-click-launch="analysis.launch"
            on-click-launch-demo="analysis.launchDemo"
        ></set-selection>
    </div>
</div>
</section>